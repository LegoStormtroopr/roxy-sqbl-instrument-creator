<?xml version="1.0" encoding="UTF-8"?><?xml-stylesheet href="xsltforms-beta2/xsltforms/xsltforms.xsl" type="text/xsl"?><?xsltforms-options debug="no"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:sqbl="sqbl:1" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events">
   <head>
      <title>Dog Demographics Demonstration Module</title>
      <xhtml:link rel="stylesheet" type="text/css" href=".//themes/koala/./Questionnaire.css"/>
      <xf:model>
         <xf:instance id="DOG_DEMO">
            <ModuleLogic xmlns="sqbl:1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        
               <Statement name="ABOUT_DOGS">
            
                  <TextComponent xml:lang="en">
                
                     <StatementText>This module asks about your ownership of Dogs. For this module please only answer about
                    domestic pets you own that are canines.</StatementText>
            
                  </TextComponent>
        
               </Statement>
        
               <sqbl:Question name="DO_SURVEY"/>
        
               <ModuleExitPoint name="REFUSE_SURVEY">
            
                  <TextComponent xml:lang="en">
                
                     <Purpose>If the respondent refuses to answer, then stop the module.</Purpose>
            
                  </TextComponent>
            
                  <Condition>
                
                     <ValueOf question="DO_SURVEY" is="equal_to">N</ValueOf>
            
                  </Condition>
        
               </ModuleExitPoint>
        
               <sqbl:Question name="HAS_DOG"/>
        
               <ConditionalTree name="SPLIT_DOGS">
            
                  <TextComponent xml:lang="en">
                
                     <Purpose>To split respondents into Dog Owners and non-dog owners, to target specific questions
                    effectively.</Purpose>
                
                     <Instruction>
                        <p>
                           <br/>
                        </p>
                     </Instruction>
            
                  </TextComponent>
            
                  <SequenceGuide>
                
                     <Condition resultBranch="NO_DOG">
                    
                        <ValueOf question="HAS_DOG" is="equal_to">No</ValueOf>
                
                     </Condition>
                
                     <Condition resultBranch="HAS_DOGS">
                    
                        <ValueOf question="HAS_DOG" is="equal_to">Yes</ValueOf>
                
                     </Condition>
                
                     <Otherwise branch="NO_DOG"/>
            
                  </SequenceGuide>
            
                  <Branch name="HAS_DOGS">
                
                     <TextComponent xml:lang="en">
                    
                        <TargetRespondent>Persons who have dogs</TargetRespondent>
                
                     </TextComponent>
                
                     <BranchLogic>
                    
                        <sqbl:Question name="DOG_NAME"/>
                    
                        <sqbl:Question name="DOG_AGE"/>
                    
                        <sqbl:Question name="DOG_SEX"/>
                    
                        <ConditionalTree name="HEALTH_by_SEX">
                        
                           <SequenceGuide>
                            
                              <Condition resultBranch="PUPPY_HEALTH">
                                
                                 <ValueOf question="DOG_AGE" is="less_than_eq">1</ValueOf>
                            
                              </Condition>
                            
                              <Condition resultBranch="FEMALE_HEALTH">
                                
                                 <ValueOf question="DOG_SEX" is="equal_to">Female</ValueOf>
                                
                                 <ValueOf question="DOG_AGE" is="greater_than">1</ValueOf>
                            
                              </Condition>
                            
                              <Condition resultBranch="MALE_HEALTH">
                                
                                 <ValueOf question="DOG_SEX" is="equal_to">Male</ValueOf>
                                
                                 <ValueOf question="DOG_AGE" is="greater_than">1</ValueOf>
                            
                              </Condition>
                            
                              <Otherwise branch="PUPPY_HEALTH"/>
                        
                           </SequenceGuide>
                        
                           <Branch name="FEMALE_HEALTH">
                            
                              <TextComponent xml:lang="en">
                                
                                 <TargetRespondent>Persons who have dogs that are female</TargetRespondent>
                            
                              </TextComponent>
                            
                              <BranchLogic>
                                
                                 <sqbl:Question name="LITTER"/>
                            
                              </BranchLogic>
                        
                           </Branch>
                        
                           <Branch name="MALE_HEALTH">
                            
                              <TextComponent xml:lang="en">
                                
                                 <TargetRespondent>Persons who have dogs that are male</TargetRespondent>
                            
                              </TextComponent>
                            
                              <BranchLogic>
                                
                                 <sqbl:Question name="HAS_SIRED"/>
                            
                              </BranchLogic>
                        
                           </Branch>
                        
                           <Branch name="PUPPY_HEALTH">
                            
                              <TextComponent xml:lang="en">
                                
                                 <TargetRespondent>Persons who have dogs that are still puppies</TargetRespondent>
                            
                              </TextComponent>
                            
                              <BranchLogic>
                                
                                 <sqbl:Question name="VACCINATED"/>
                            
                              </BranchLogic>
                        
                           </Branch>
                    
                        </ConditionalTree>
                
                     </BranchLogic>
            
                  </Branch>
            
                  <Branch name="NO_DOG">
                
                     <TextComponent xml:lang="en">
                    
                        <TargetRespondent>Persons who don't have dogs</TargetRespondent>
                
                     </TextComponent>
                
                     <BranchLogic>
                    
                        <sqbl:Question name="WHY_NO_DOG"/>
                
                     </BranchLogic>
            
                  </Branch>
        
               </ConditionalTree>
        
               <sqbl:Question name="COMMENTS"/>
    
            </ModuleLogic>
         </xf:instance>
         <xf:instance id="decisionTables">
            <DecisionTables>
               <sqbl:SequenceGuide name="SPLIT_DOGS">
                  <sqbl:Condition name="NO_DOG"/>
                  <sqbl:Condition name="HAS_DOGS"/>
               </sqbl:SequenceGuide>
               <sqbl:SequenceGuide name="HEALTH_by_SEX">
                  <sqbl:Condition name="PUPPY_HEALTH"/>
                  <sqbl:Condition name="FEMALE_HEALTH"/>
                  <sqbl:Condition name="MALE_HEALTH"/>
               </sqbl:SequenceGuide>
            </DecisionTables>
         </xf:instance>
         <xf:bind id="bind-SG-NO_DOG-1" nodeset="instance('decisionTables')//*[@name='NO_DOG' and position()=1]" calculate="true() and instance('DOG_DEMO')//.[@name='HAS_DOG'] = 'No'"/>
         <xf:bind id="bind-SG-HAS_DOGS-2" nodeset="instance('decisionTables')//*[@name='HAS_DOGS' and position()=2]" calculate="true() and instance('DOG_DEMO')//.[@name='HAS_DOG'] = 'Yes'"/>
         <xf:bind id="bind-HAS_DOGS" nodeset="instance('DOG_DEMO')//[@name='HAS_DOGS']" relevant="instance('decisionTables')//[@name='HAS_DOGS'] = true()" readonly="not(instance('decisionTables')//[@name='HAS_DOGS'] = true())"/>
         <xf:bind id="bind-NO_DOG" nodeset="instance('DOG_DEMO')//[@name='NO_DOG']" relevant="instance('decisionTables')//[@name='NO_DOG'] = true()" readonly="not(instance('decisionTables')//[@name='NO_DOG'] = true())"/>
         <xf:bind id="bind-SG-PUPPY_HEALTH-1" nodeset="instance('decisionTables')//*[@name='PUPPY_HEALTH' and position()=1]" calculate="true() and instance('DOG_DEMO')//.[@name='DOG_AGE'] &lt;= '1'"/>
         <xf:bind id="bind-SG-FEMALE_HEALTH-2" nodeset="instance('decisionTables')//*[@name='FEMALE_HEALTH' and position()=2]" calculate="true() and instance('DOG_DEMO')//.[@name='DOG_SEX'] = 'Female' and instance('DOG_DEMO')//.[@name='DOG_AGE'] &gt; '1'"/>
         <xf:bind id="bind-SG-MALE_HEALTH-3" nodeset="instance('decisionTables')//*[@name='MALE_HEALTH' and position()=3]" calculate="true() and instance('DOG_DEMO')//.[@name='DOG_SEX'] = 'Male' and instance('DOG_DEMO')//.[@name='DOG_AGE'] &gt; '1'"/>
         <xf:bind id="bind-FEMALE_HEALTH" nodeset="instance('DOG_DEMO')//[@name='FEMALE_HEALTH']" relevant="instance('decisionTables')//[@name='FEMALE_HEALTH'] = true()" readonly="not(instance('decisionTables')//[@name='FEMALE_HEALTH'] = true())"/>
         <xf:bind id="bind-MALE_HEALTH" nodeset="instance('DOG_DEMO')//[@name='MALE_HEALTH']" relevant="instance('decisionTables')//[@name='MALE_HEALTH'] = true()" readonly="not(instance('decisionTables')//[@name='MALE_HEALTH'] = true())"/>
         <xf:bind id="bind-PUPPY_HEALTH" nodeset="instance('DOG_DEMO')//[@name='PUPPY_HEALTH']" relevant="instance('decisionTables')//[@name='PUPPY_HEALTH'] = true()" readonly="not(instance('decisionTables')//[@name='PUPPY_HEALTH'] = true())"/>
         <xf:submission id="saveLocally" method="put" action="file://C:/temp/saved_survey.xml"/>
         <xf:submission id="debugDTs" method="put" ref="instance('decisionTables')//" action="file://C:/temp/saved_survey.xml"/>
      </xf:model>
   </head>
   <body>
      <div id="survey">
         <h1>Dog Demographics Demonstration Module</h1>
         <a xmlns="" name="ABOUT_DOGS">This module asks about your ownership of Dogs. For this module please only answer about
                    domestic pets you own that are canines.</a>
         <p xmlns="">
            <xf:input ref="instance('DOG_DEMO')//*[@name='DO_SURVEY']">
               <xf:label>
                  <a name="DO_SURVEY">1. Would you like to complete this module?</a>
               </xf:label>
            </xf:input>
         </p>
            
                If the respondent refuses to answer, then stop the module.
            
            
                N
            
        <p xmlns="">
            <xf:input ref="instance('DOG_DEMO')//*[@name='HAS_DOG']">
               <xf:label>
                  <a name="HAS_DOG">2. Do you have a dog?</a>
               </xf:label>
               <ul>
                  <li> If equal_to
										'Yes'  Go to <a href="#DOG_NAME">
                        <small>DOG_NAME</small>
                     </a>
                  </li>
                  <li> If equal_to
										'No'  Go to <a href="#WHY_NO_DOG">
                        <small>WHY_NO_DOG</small>
                     </a>
                  </li>
                  <li> Otherwise  Go to <a href="#WHY_NO_DOG">
                        <small>WHY_NO_DOG</small>
                     </a>
                  </li>
               </ul>
            </xf:input>
         </p>
         <xf:group bind="bind-HAS_DOGS">
                    
            <p xmlns="">
               <xf:input ref="instance('DOG_DEMO')//*[@name='DOG_NAME']">
                  <xf:label>
                     <a name="DOG_NAME">3. What is your dog's name?</a>
                  </xf:label>
               </xf:input>
            </p>
                    
            <p xmlns="">
               <xf:input ref="instance('DOG_DEMO')//*[@name='DOG_AGE']">
                  <xf:label>
                     <a name="DOG_AGE">4. What is the dogs age?</a>
                  </xf:label>
               </xf:input>
            </p>
                    
            <p xmlns="">
               <xf:input ref="instance('DOG_DEMO')//*[@name='DOG_SEX']">
                  <xf:label>
                     <a name="DOG_SEX">5. What is the sex of 
                                    
                                    your dog
                                 ?</a>
                  </xf:label>
               </xf:input>
            </p>
                    
            <xf:group bind="bind-FEMALE_HEALTH">
                                
               <p xmlns="">
                  <xf:input ref="instance('DOG_DEMO')//*[@name='LITTER']">
                     <xf:label>
                        <a name="LITTER">6. Has your dog had a litter of puppies?</a>
                     </xf:label>
                  </xf:input>
               </p>
                            
            </xf:group>
            <xf:group bind="bind-MALE_HEALTH">
                                
               <p xmlns="">
                  <xf:input ref="instance('DOG_DEMO')//*[@name='HAS_SIRED']">
                     <xf:label>
                        <a name="HAS_SIRED">7. Has your dog sired a litter of puppies?</a>
                     </xf:label>
                  </xf:input>
               </p>
                            
            </xf:group>
            <xf:group bind="bind-PUPPY_HEALTH">
                                
               <p xmlns="">
                  <xf:input ref="instance('DOG_DEMO')//*[@name='VACCINATED']">
                     <xf:label>
                        <a name="VACCINATED">8. Has your puppy been toilet trained?</a>
                     </xf:label>
                  </xf:input>
               </p>
                            
            </xf:group>
                
         </xf:group>
         <xf:group bind="bind-NO_DOG">
                    
            <p xmlns="">
               <xf:input ref="instance('DOG_DEMO')//*[@name='WHY_NO_DOG']">
                  <xf:label>
                     <a name="WHY_NO_DOG">9. Why do you not own a dog?</a>
                  </xf:label>
               </xf:input>
            </p>
                
         </xf:group>
         <p xmlns="">
            <xf:input ref="instance('DOG_DEMO')//*[@name='COMMENTS']">
               <xf:label>
                  <a name="COMMENTS">10. Do you have any comments on this survey?</a>
               </xf:label>
            </xf:input>
         </p>
         <xf:submit submission="saveLocally">
            <xf:label>Save data locally</xf:label>
         </xf:submit>
         <xf:submit submission="saveRemotely">
            <xf:label>Submit</xf:label>
         </xf:submit>
         <xf:submit submission="debugDTs">
            <xf:label>Debug DTs</xf:label>
         </xf:submit>
      </div>
   </body>
</html>